{"ast":null,"code":"import container from \"../components/container\";\nimport { Brush, Delete, Search, Setting, Timer, WarningFilled } from \"@element-plus/icons-vue\";\nimport { ElMessage } from \"element-plus\";\nimport descriptions from \"@/components/descriptions\";\nexport default {\n  name: \"Order\",\n  components: {\n    descriptions,\n    container,\n    Timer\n  },\n  setup() {\n    return {\n      Search,\n      Brush,\n      Setting,\n      Delete,\n      WarningFilled\n    };\n  },\n  data() {\n    return {\n      orderList: [],\n      order: {\n        id: '',\n        amount: '',\n        goodsCount: '',\n        status: '',\n        shippingAddress: ''\n      },\n      query: {\n        id: '',\n        status: ''\n      },\n      orderDetail: {\n        id: '',\n        status: '',\n        totalPrice: '',\n        goodsItem: [],\n        name: '',\n        mobile: '',\n        province: '',\n        city: '',\n        district: '',\n        detailedAddress: '',\n        created: '',\n        nickName: ''\n      },\n      dialogTitle: '',\n      operateType: '',\n      orderDialogVisible: false,\n      // 分页\n      total: 0,\n      pageNum: 1,\n      pageSize: 12,\n      // 空状态\n      showEmpty: false\n    };\n  },\n  mounted() {\n    this.getOrderList();\n  },\n  methods: {\n    // 分页，处理函数\n    handleCurrentChangePrev(val) {\n      this.pageNum = val;\n      console.log(`上一页: ${val}`);\n    },\n    handleCurrentChange(val) {\n      this.pageNum = val;\n      this.getOrderList();\n      console.log(`当前页: ${val}`);\n    },\n    handleCurrentChangeNext(val) {\n      this.pageNum = val;\n      console.log(`下一页: ${val}`);\n    },\n    // 获取订单列表\n    getOrderList() {\n      this.$axios.get('/order/list', {\n        params: {\n          id: this.query.id,\n          status: this.query.status,\n          pageNum: this.pageNum,\n          pageSize: this.pageSize,\n          sid: parseInt(localStorage.getItem('sid'))\n        }\n      }).then(response => {\n        this.total = response.data.data.total;\n        this.orderList = response.data.data.list;\n        if (this.orderList.length === 0) {\n          this.showEmpty = true;\n        }\n      }).catch(error => {\n        console.log(error);\n      });\n    },\n    // 查看订单详情\n    checkOrder(index, row) {\n      this.orderDetail.nickName = row.nickName;\n      console.log(row.id);\n      this.dialogTitle = '订单详情';\n      this.$axios.get('/order/detail', {\n        params: {\n          id: row.id\n        }\n      }).then(response => {\n        this.orderDetail.id = response.data.data.id;\n        this.orderDetail.status = response.data.data.status;\n        this.orderDetail.totalPrice = response.data.data.totalPrice;\n        this.orderDetail.goodsItem = response.data.data.goodsItem;\n        this.orderDetail.name = response.data.data.name;\n        this.orderDetail.mobile = response.data.data.mobile;\n        this.orderDetail.province = response.data.data.province;\n        this.orderDetail.city = response.data.data.city;\n        this.orderDetail.district = response.data.data.district;\n        this.orderDetail.detailedAddress = response.data.data.detailedAddress;\n        this.orderDetail.created = response.data.data.created;\n      }).catch(error => {\n        console.log(error);\n      });\n      this.orderDialogVisible = true;\n    },\n    // 修改订单\n    modifyOrder(row, status) {\n      this.$axios.put('/order/update', {\n        id: row.id,\n        status: status\n      }).then(response => {\n        if (response.data.code === 200 && status === 4) {\n          ElMessage({\n            message: '订单配送中',\n            type: 'success'\n          });\n        }\n        this.getOrderList();\n      });\n    },\n    // 重置查询表单\n    resetForm() {\n      this.$refs['query'].resetFields();\n      this.getOrderList();\n    },\n    // 删除订单\n    deleteOrder(row) {\n      this.$axios.delete('/order/delete', {\n        params: {\n          id: row.id\n        }\n      }).then(response => {\n        if (response.data.code === 200) {\n          ElMessage({\n            message: response.data.message,\n            type: 'success'\n          });\n        }\n        this.getOrderList();\n      }).catch(error => {\n        console.log(error);\n      });\n    }\n  }\n};","map":{"version":3,"mappings":"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","names":["container","Brush","Delete","Search","Setting","Timer","WarningFilled","ElMessage","descriptions","name","components","setup","data","orderList","order","id","amount","goodsCount","status","shippingAddress","query","orderDetail","totalPrice","goodsItem","mobile","province","city","district","detailedAddress","created","nickName","dialogTitle","operateType","orderDialogVisible","total","pageNum","pageSize","showEmpty","mounted","getOrderList","methods","handleCurrentChangePrev","val","console","log","handleCurrentChange","handleCurrentChangeNext","$axios","get","params","sid","parseInt","localStorage","getItem","then","response","list","length","catch","error","checkOrder","index","row","modifyOrder","put","code","message","type","resetForm","$refs","resetFields","deleteOrder","delete"],"sourceRoot":"","sources":["/Users/work/server/imall/web/src/view/Order.vue"],"sourcesContent":["<template>\n  <container>\n    <!-- 订单查询 -->\n    <el-form :inline=\"true\" :model=\"query\" ref=\"query\" class=\"goods_query_form\">\n      <el-form-item prop=\"id\">\n        <el-input v-model.number=\"query.id\" placeholder=\"订单ID\"/>\n      </el-form-item>\n      <el-form-item prop=\"status\">\n        <el-select v-model=\"query.status\" placeholder=\"订单状态\">\n          <el-option label=\"待付款\" value=\"1\"></el-option>\n          <el-option label=\"已取消\" value=\"2\"></el-option>\n          <el-option label=\"已付款\" value=\"3\"></el-option>\n          <el-option label=\"配送中\" value=\"4\"></el-option>\n          <el-option label=\"已完成\" value=\"5\"></el-option>\n        </el-select>\n      </el-form-item>\n      <el-form-item>\n        <el-button type=\"primary\" :icon=\"Search\" @click=\"getOrderList\">查询</el-button>\n        <el-button type=\"primary\" :icon=\"Brush\" @click=\"resetForm\"/>\n      </el-form-item>\n    </el-form>\n    <!-- 订单列表 -->\n    <el-table :data=\"orderList\" height=\"65vh\" style=\"width: 100%\">\n      <el-table-column prop=\"id\" label=\"订单号\" width=\"200px\"/>\n      <el-table-column prop=\"totalPrice\" label=\"订单金额\"/>\n      <el-table-column prop=\"goodsCount\" label=\"商品数量\">\n        <template #default=\"scope\">x{{scope.row.goodsCount}}</template>\n      </el-table-column>\n      <el-table-column prop=\"status\" label=\"订单状态\">\n        <template #default=\"scope\">\n          <el-tag v-if=\"scope.row.status === 1\" size=\"small\" type=\"info\">待付款</el-tag>\n          <el-tag v-if=\"scope.row.status === 2\" size=\"small\" type=\"info\">已取消</el-tag>\n          <el-tag v-if=\"scope.row.status === 3\" size=\"small\" type=\"info\">已付款</el-tag>\n          <el-tag v-if=\"scope.row.status === 4\" size=\"small\" type=\"primary\">配送中</el-tag>\n          <el-tag v-if=\"scope.row.status === 5\" size=\"small\" type=\"success\">已完成</el-tag>\n        </template>\n      </el-table-column>\n      <el-table-column prop=\"created\" label=\"创建时间\" min-width=\"150\" sortable>\n        <template #default=\"scope\">\n          <div style=\"display: flex; align-items: center\">\n            <el-icon><timer/></el-icon>\n            <span style=\"margin-left: 10px\">{{ scope.row.created }}</span>\n          </div>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"操作\" min-width=\"130\">\n        <template #default=\"scope\">\n          <el-button size=\"small\" @click=\"checkOrder(scope.$index, scope.row)\">详情</el-button>\n          <el-button v-if=\"scope.row.status === 3\" size=\"small\" type=\"primary\" @click=\"modifyOrder(scope.row, 4)\">配送</el-button>\n          <el-popconfirm title=\"此操作将永久删除该信息, 是否继续?\"\n                         confirmButtonText=\"确认\"\n                         cancelButtonText=\"取消\"\n                         cancelButtonType=\"default\"\n                         v-if=\"scope.row.status === 2 || scope.row.status === 5\"\n                         :icon=\"WarningFilled\"\n                         @confirm=\"deleteOrder(scope.row)\">\n            <template #reference>\n             <el-button size=\"small\" type=\"danger\">删除</el-button>\n            </template>\n          </el-popconfirm>\n        </template>\n      </el-table-column>\n      <template #empty>\n        <div style=\"margin: 50px 0;\">\n          <el-empty  v-if=\"showEmpty\" description=\"暂时还没有订单哦\" />\n        </div>\n      </template>\n    </el-table>\n    <div style=\"padding: 10px 0;\">\n      <el-pagination layout=\"total, prev, pager, next\"\n                   :current-page=\"pageNum\"\n                   :page-size=\"pageSize\"\n                   :total=\"total\"\n                   @current-change=\"handleCurrentChange\"\n                   @prev-click=\"handleCurrentChangePrev\"\n                   @next-click=\"handleCurrentChangeNext\" background/>\n    </div>\n    <!-- 查看订单详情，对话框 -->\n    <el-dialog :title=\"dialogTitle\" v-model=\"orderDialogVisible\" top=\"5vh\" width=\"50%\">\n      <descriptions label=\"订单编号\">{{orderDetail.id}}</descriptions>\n      <descriptions label=\"订单状态\">\n        <el-tag v-if=\"orderDetail.status === 1\" size=\"small\" type=\"warning\">待付款</el-tag>\n        <el-tag v-if=\"orderDetail.status === 2\" size=\"small\" type=\"info\">已取消</el-tag>\n        <el-tag v-if=\"orderDetail.status === 3\" size=\"small\" type=\"success\">已付款</el-tag>\n        <el-tag v-if=\"orderDetail.status === 4\" size=\"small\" type=\"primary\">配送中</el-tag>\n        <el-tag v-if=\"orderDetail.status === 5\" size=\"small\" type=\"success\">已完成</el-tag>\n      </descriptions>\n      <descriptions label=\"支付金额\">{{orderDetail.totalPrice}}</descriptions>\n      <descriptions label=\"商品列表\">\n        <el-table :data=\"orderDetail.goodsItem\" style=\"width: 100%\">\n          <el-table-column prop=\"name\" label=\"主图\" width=\"60\">\n            <template #default=\"scope\">\n              <div style=\"display: flex;justify-content: center;align-items: center;\">\n                <el-image class=\"goods_image\" :src=\"scope.row.imageUrl\"/>\n              </div>\n            </template>\n          </el-table-column>\n          <el-table-column prop=\"title\" label=\"标题\">\n            <template #default=\"scope\">\n              <div style=\"font-size: 10px;line-height: 15px;\">{{scope.row.title}}</div>\n            </template>\n          </el-table-column>\n          <el-table-column prop=\"count\" label=\"数量\" width=\"80\">\n            <template #default=\"scope\">x {{scope.row.count}}</template>\n          </el-table-column>\n        </el-table>\n      </descriptions>\n      <descriptions label=\"收货人姓名\">{{orderDetail.name}}</descriptions>\n      <descriptions label=\"手机号\">{{orderDetail.mobile}}</descriptions>\n      <descriptions label=\"收货地址\">{{orderDetail.province + ' ' + orderDetail.city + ' ' + orderDetail.district +\n      ' ' + orderDetail.detailedAddress }}</descriptions>\n      <descriptions label=\"创建时间\">{{orderDetail.created}}</descriptions>\n      <template #footer>\n        <span class=\"dialog-footer\">\n          <el-button type=\"primary\" @click=\"orderDialogVisible = false\">确定</el-button>\n        </span>\n      </template>\n    </el-dialog>\n  </container>\n</template>\n\n<script>\nimport container from \"../components/container\";\nimport {Brush, Delete, Search, Setting, Timer, WarningFilled} from \"@element-plus/icons-vue\";\nimport {ElMessage} from \"element-plus\";\nimport descriptions from \"@/components/descriptions\";\n\nexport default {\n  name: \"Order\",\n  components: {descriptions, container, Timer},\n  setup() {\n    return {Search, Brush, Setting, Delete, WarningFilled}\n  },\n  data() {\n    return {\n      orderList: [],\n      order: {\n        id: '',\n        amount: '',\n        goodsCount: '',\n        status: '',\n        shippingAddress: ''\n      },\n      query: {\n        id: '',\n        status: ''\n      },\n      orderDetail: {\n        id: '',\n        status: '',\n        totalPrice: '',\n        goodsItem: [],\n        name: '',\n        mobile: '',\n        province: '',\n        city: '',\n        district: '',\n        detailedAddress: '',\n        created: '',\n        nickName: ''\n      },\n      dialogTitle: '',\n      operateType: '',\n      orderDialogVisible: false,\n\n      // 分页\n      total: 0,\n      pageNum: 1,\n      pageSize: 12,\n\n      // 空状态\n      showEmpty: false\n    }\n  },\n  mounted() {\n    this.getOrderList()\n  },\n  methods: {\n    // 分页，处理函数\n    handleCurrentChangePrev(val) {\n      this.pageNum = val;\n      console.log(`上一页: ${val}`);\n    },\n    handleCurrentChange(val) {\n      this.pageNum = val;\n      this.getOrderList();\n      console.log(`当前页: ${val}`);\n    },\n    handleCurrentChangeNext(val) {\n      this.pageNum = val;\n      console.log(`下一页: ${val}`);\n    },\n\n    // 获取订单列表\n    getOrderList(){\n      this.$axios.get('/order/list', {\n        params: {\n          id: this.query.id,\n          status: this.query.status,\n          pageNum: this.pageNum,\n          pageSize: this.pageSize,\n          sid: parseInt(localStorage.getItem('sid'))\n        }\n      }).then((response) => {\n        this.total = response.data.data.total\n        this.orderList = response.data.data.list\n        if (this.orderList.length === 0) {\n          this.showEmpty = true\n        }\n      }).catch((error) => {\n        console.log(error)\n      })\n    },\n\n    // 查看订单详情\n    checkOrder(index, row) {\n      this.orderDetail.nickName = row.nickName\n      console.log(row.id)\n      this.dialogTitle = '订单详情'\n      this.$axios.get('/order/detail', {\n        params: { id: row.id }\n      }).then((response) => {\n        this.orderDetail.id = response.data.data.id\n        this.orderDetail.status = response.data.data.status\n        this.orderDetail.totalPrice = response.data.data.totalPrice\n        this.orderDetail.goodsItem = response.data.data.goodsItem\n        this.orderDetail.name = response.data.data.name\n        this.orderDetail.mobile = response.data.data.mobile\n        this.orderDetail.province = response.data.data.province\n        this.orderDetail.city = response.data.data.city\n        this.orderDetail.district = response.data.data.district\n        this.orderDetail.detailedAddress = response.data.data.detailedAddress\n        this.orderDetail.created = response.data.data.created\n      }).catch((error) => {\n        console.log(error)\n      })\n      this.orderDialogVisible = true\n    },\n\n    // 修改订单\n    modifyOrder(row, status) {\n      this.$axios.put('/order/update', {\n        id: row.id,\n        status: status\n      }).then((response) => {\n        if (response.data.code === 200 && status === 4){\n          ElMessage({message: '订单配送中', type: 'success'})\n        }\n        this.getOrderList()\n      })\n    },\n\n    // 重置查询表单\n    resetForm() {\n      this.$refs['query'].resetFields()\n      this.getOrderList()\n    },\n\n    // 删除订单\n    deleteOrder(row){\n      this.$axios.delete('/order/delete', {\n          params: {\n            id: row.id\n          }\n        }).then((response) => {\n          if (response.data.code === 200) {\n            ElMessage({message: response.data.message, type: 'success'})\n          }\n          this.getOrderList()\n        }).catch((error) => {\n          console.log(error)\n      })\n    }\n  }\n}\n</script>\n\n<style scoped>\n.goods_image{\n  width: 35px;\n  height: 35px;\n  border-radius: 5px;\n}\n.el-dialog {\n  border-radius: 10px !important;\n}\n\n.el-table__header tr, .el-table__header th {\n  background-color: #eff6ff !important;\n  font-weight: 450 !important;\n  color: #627a94 !important;\n  border-bottom: none !important;\n}\n</style>"]},"metadata":{},"sourceType":"module"}