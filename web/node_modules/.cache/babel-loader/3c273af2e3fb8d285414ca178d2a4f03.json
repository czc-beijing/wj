{"ast":null,"code":"import card from \"@/components/card\";\nimport links from \"@/components/links\";\nimport { Plus, Document, ShoppingCart, Menu } from \"@element-plus/icons-vue\";\nimport * as echarts from \"echarts\";\nexport default {\n  name: \"Index\",\n  components: {\n    card,\n    links,\n    Plus,\n    Document,\n    ShoppingCart,\n    Menu\n  },\n  data() {\n    return {\n      pendPay: 0,\n      payed: 0,\n      inDelivery: 0,\n      canceled: 0,\n      finished: 0,\n      payAmount: 0.0\n    };\n  },\n  mounted() {\n    this.getTodayData();\n    // 本周数据总览\n    let orderData = echarts.init(document.getElementById(\"orderData\"), null);\n    let shopData = echarts.init(document.getElementById(\"shopData\"), null, {\n      height: 275\n    });\n    let orderDataOption;\n    let shopDataOption;\n    this.$axios.get(\"/order/data\", {\n      params: {\n        sid: localStorage.getItem(\"sid\")\n      }\n    }).then(response => {\n      console.log(response);\n      orderDataOption = {\n        title: {\n          text: \"订单数据（当日各时段）\",\n          textStyle: {\n            fontSize: \"16px\",\n            fontWeight: \"normal\"\n          }\n        },\n        xAxis: {\n          type: \"category\",\n          data: [\"06\", \"07\", \"08\", \"09\", \"10\", \"11\", \"12\", \"13\", \"14\", \"15\", \"16\", \"17\", \"18\", \"19\", \"20\", \"21\", \"22\", \"23\", \"24\"]\n        },\n        yAxis: {\n          type: \"value\"\n        },\n        grid: {\n          left: \"3%\",\n          right: \"4%\",\n          bottom: \"3%\",\n          containLabel: true\n        },\n        series: [{\n          name: \"订单数\",\n          data: response.data.data.orders,\n          type: \"bar\"\n        }],\n        tooltip: {\n          trigger: \"axis\",\n          axisPointer: {\n            type: \"shadow\"\n          }\n        }\n      };\n      orderDataOption && orderData.setOption(orderDataOption);\n    });\n    this.$axios.get(\"/shop/data\", {\n      params: {\n        sid: localStorage.getItem(\"sid\")\n      }\n    }).then(response => {\n      console.log(response);\n      shopDataOption = {\n        title: {\n          text: \"店铺数据\",\n          textStyle: {\n            fontSize: \"16px\",\n            fontWeight: \"normal\"\n          }\n        },\n        tooltip: {\n          trigger: \"axis\",\n          axisPointer: {\n            type: \"cross\",\n            label: {\n              backgroundColor: \"#6a7985\"\n            }\n          }\n        },\n        grid: {\n          left: \"3%\",\n          right: \"4%\",\n          bottom: \"10%\",\n          containLabel: true\n        },\n        xAxis: [{\n          type: \"category\",\n          boundaryGap: false,\n          data: [\"周一\", \"周二\", \"周三\", \"周四\", \"周五\", \"周六\", \"周日\"]\n        }],\n        yAxis: [{\n          type: \"value\"\n        }],\n        series: [{\n          name: \"支付金额\",\n          type: \"line\",\n          stack: \"Total\",\n          areaStyle: {},\n          emphasis: {\n            focus: \"series\"\n          },\n          smooth: true,\n          data: response.data.data.amount\n        }]\n      };\n      shopDataOption && shopData.setOption(shopDataOption);\n    });\n  },\n  methods: {\n    // 获取订单数据\n    getTodayData() {\n      this.$axios.get(\"/today/data\", {\n        params: {\n          sid: localStorage.getItem(\"sid\")\n        }\n      }).then(response => {\n        this.pendPay = response.data.data.pendPay;\n        this.payed = response.data.data.payed;\n        this.inDelivery = response.data.data.inDelivery;\n        this.canceled = response.data.data.canceled;\n        this.finished = response.data.data.finished;\n        this.payAmount = response.data.data.payAmount;\n      });\n    }\n  }\n};","map":{"version":3,"mappings":"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","names":["card","links","Plus","Document","ShoppingCart","Menu","echarts","name","components","data","pendPay","payed","inDelivery","canceled","finished","payAmount","mounted","getTodayData","orderData","init","document","getElementById","shopData","height","orderDataOption","shopDataOption","$axios","get","params","sid","localStorage","getItem","then","response","console","log","title","text","textStyle","fontSize","fontWeight","xAxis","type","yAxis","grid","left","right","bottom","containLabel","series","orders","tooltip","trigger","axisPointer","setOption","label","backgroundColor","boundaryGap","stack","areaStyle","emphasis","focus","smooth","amount","methods"],"sourceRoot":"","sources":["/Users/work/server/imall/web/src/view/Index.vue"],"sourcesContent":["<template>\n  <el-row :gutter=\"12\">\n    <el-col :span=\"24\">\n      <el-row :gutter=\"12\">\n        <el-col :span=\"4\">\n          <card title=\"待付款\" :number=\"pendPay\"></card>\n        </el-col>\n        <el-col :span=\"4\">\n          <card title=\"待发货\" :number=\"payed\"></card>\n        </el-col>\n        <el-col :span=\"4\">\n          <card title=\"配送中\" :number=\"inDelivery\"></card>\n        </el-col>\n        <el-col :span=\"4\">\n          <card title=\"已取消\" :number=\"canceled\"></card>\n        </el-col>\n        <el-col :span=\"4\">\n          <card title=\"已完成\" :number=\"finished\"></card>\n        </el-col>\n        <el-col :span=\"4\">\n          <card title=\"支付金额\" :number=\"payAmount\"></card>\n        </el-col>\n      </el-row>\n    </el-col>\n    <el-col :span=\"14\">\n      <div style=\"padding-top: 10px\">\n        <el-card shadow=\"never\">\n          <div id=\"orderData\" style=\"width: 100%; height: 450px\"></div>\n        </el-card>\n      </div>\n    </el-col>\n    <el-col :span=\"10\">\n      <div style=\"padding-top: 10px\">\n        <el-row>\n          <el-col :span=\"24\">\n            <el-card shadow=\"never\">\n              <div style=\"margin-bottom: 12px; margin-left: 4px\">常用功能</div>\n              <el-row :gutter=\"12\">\n                <el-col :span=\"6\">\n                  <links title=\"添加商品\" bgColor=\"#79bbff\" to=\"goods\"\n                    ><Plus\n                  /></links>\n                </el-col>\n                <el-col :span=\"6\">\n                  <links title=\"订单管理\" bgColor=\"#eebe77\" to=\"order\"\n                    ><Document\n                  /></links>\n                </el-col>\n                <el-col :span=\"6\">\n                  <links title=\"活动管理\" bgColor=\"#95d475\" to=\"market\"\n                    ><ShoppingCart\n                  /></links>\n                </el-col>\n                <el-col :span=\"6\">\n                  <links title=\"全部功能\" bgColor=\"#f89898\"><Menu /></links>\n                </el-col>\n              </el-row>\n            </el-card>\n          </el-col>\n          <el-col :span=\"24\">\n            <div style=\"padding-top: 10px\">\n              <el-card shadow=\"never\">\n                <div id=\"shopData\" style=\"width: 100%; height: 258px\"></div>\n              </el-card>\n            </div>\n          </el-col>\n        </el-row>\n      </div>\n    </el-col>\n  </el-row>\n</template>\n\n<script>\nimport card from \"@/components/card\";\nimport links from \"@/components/links\";\nimport { Plus, Document, ShoppingCart, Menu } from \"@element-plus/icons-vue\";\n\nimport * as echarts from \"echarts\";\nexport default {\n  name: \"Index\",\n  components: { card, links, Plus, Document, ShoppingCart, Menu },\n  data() {\n    return {\n      pendPay: 0,\n      payed: 0,\n      inDelivery: 0,\n      canceled: 0,\n      finished: 0,\n      payAmount: 0.0,\n    };\n  },\n  mounted() {\n    this.getTodayData();\n    // 本周数据总览\n    let orderData = echarts.init(document.getElementById(\"orderData\"), null);\n    let shopData = echarts.init(document.getElementById(\"shopData\"), null, {\n      height: 275,\n    });\n    let orderDataOption;\n    let shopDataOption;\n    this.$axios\n      .get(\"/order/data\", {\n        params: {\n          sid: localStorage.getItem(\"sid\"),\n        },\n      })\n      .then((response) => {\n        console.log(response);\n        orderDataOption = {\n          title: {\n            text: \"订单数据（当日各时段）\",\n            textStyle: {\n              fontSize: \"16px\",\n              fontWeight: \"normal\",\n            },\n          },\n          xAxis: {\n            type: \"category\",\n            data: [\n              \"06\",\n              \"07\",\n              \"08\",\n              \"09\",\n              \"10\",\n              \"11\",\n              \"12\",\n              \"13\",\n              \"14\",\n              \"15\",\n              \"16\",\n              \"17\",\n              \"18\",\n              \"19\",\n              \"20\",\n              \"21\",\n              \"22\",\n              \"23\",\n              \"24\",\n            ],\n          },\n          yAxis: {\n            type: \"value\",\n          },\n          grid: {\n            left: \"3%\",\n            right: \"4%\",\n            bottom: \"3%\",\n            containLabel: true,\n          },\n          series: [\n            { \n              name: \"订单数\",\n              data: response.data.data.orders,\n              type: \"bar\",\n            },\n          ],\n          tooltip: {\n            trigger: \"axis\",\n            axisPointer: {\n              type: \"shadow\",\n            },\n          },\n        };\n        orderDataOption && orderData.setOption(orderDataOption);\n      });\n\n    this.$axios\n      .get(\"/shop/data\", {\n        params: {\n          sid: localStorage.getItem(\"sid\"),\n        },\n      })\n      .then((response) => {\n        console.log(response);\n        shopDataOption = {\n          title: {\n            text: \"店铺数据\",\n            textStyle: {\n              fontSize: \"16px\",\n              fontWeight: \"normal\",\n            },\n          },\n          tooltip: {\n            trigger: \"axis\",\n            axisPointer: {\n              type: \"cross\",\n              label: {\n                backgroundColor: \"#6a7985\",\n              },\n            },\n          },\n          grid: {\n            left: \"3%\",\n            right: \"4%\",\n            bottom: \"10%\",\n            containLabel: true,\n          },\n          xAxis: [\n            { \n              type: \"category\",\n              boundaryGap: false,\n              data: [\"周一\", \"周二\", \"周三\", \"周四\", \"周五\", \"周六\", \"周日\"],\n            },\n          ],\n          yAxis: [\n            {\n              type: \"value\",\n            },\n          ],\n          series: [\n            {\n              name: \"支付金额\",\n              type: \"line\",\n              stack: \"Total\",\n              areaStyle: {},\n              emphasis: {\n                focus: \"series\",\n              },\n              smooth: true,\n              data: response.data.data.amount,\n            },\n          ],\n        };\n        shopDataOption && shopData.setOption(shopDataOption);\n      });\n  },\n  methods: {\n    // 获取订单数据\n    getTodayData() {\n      this.$axios\n        .get(\"/today/data\", {\n          params: {\n            sid: localStorage.getItem(\"sid\"),\n          },\n        })\n        .then((response) => {\n          this.pendPay = response.data.data.pendPay;\n          this.payed = response.data.data.payed;\n          this.inDelivery = response.data.data.inDelivery;\n          this.canceled = response.data.data.canceled;\n          this.finished = response.data.data.finished;\n          this.payAmount = response.data.data.payAmount;\n        });\n    },\n  },\n};\n</script>\n\n<style scoped>\n</style>"]},"metadata":{},"sourceType":"module"}