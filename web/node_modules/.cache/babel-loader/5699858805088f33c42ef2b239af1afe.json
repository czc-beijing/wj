{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, createTextVNode as _createTextVNode, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createBlock as _createBlock, vShow as _vShow, withDirectives as _withDirectives } from \"vue\";\nconst _hoisted_1 = {\n  style: {\n    \"display\": \"inline-flex\"\n  }\n};\nconst _hoisted_2 = {\n  class: \"goods_image_box\"\n};\nconst _hoisted_3 = {\n  style: {\n    \"display\": \"block\"\n  }\n};\nconst _hoisted_4 = {\n  class: \"goods_title\"\n};\nconst _hoisted_5 = {\n  class: \"goods_id\"\n};\nconst _hoisted_6 = {\n  style: {\n    \"display\": \"flex\",\n    \"align-items\": \"center\"\n  }\n};\nconst _hoisted_7 = {\n  style: {\n    \"margin-left\": \"10px\"\n  }\n};\nconst _hoisted_8 = {\n  style: {\n    \"margin\": \"50px 0\"\n  }\n};\nconst _hoisted_9 = {\n  style: {\n    \"padding\": \"15px 0\"\n  }\n};\nconst _hoisted_10 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"goods_image_upload_icon\"\n}, \"+\", -1 /* HOISTED */);\nconst _hoisted_11 = {\n  class: \"dialog-footer\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_input = _resolveComponent(\"el-input\");\n  const _component_el_form_item = _resolveComponent(\"el-form-item\");\n  const _component_el_cascader = _resolveComponent(\"el-cascader\");\n  const _component_el_option = _resolveComponent(\"el-option\");\n  const _component_el_select = _resolveComponent(\"el-select\");\n  const _component_el_button = _resolveComponent(\"el-button\");\n  const _component_el_form = _resolveComponent(\"el-form\");\n  const _component_el_image = _resolveComponent(\"el-image\");\n  const _component_el_table_column = _resolveComponent(\"el-table-column\");\n  const _component_el_tag = _resolveComponent(\"el-tag\");\n  const _component_timer = _resolveComponent(\"timer\");\n  const _component_el_icon = _resolveComponent(\"el-icon\");\n  const _component_el_popconfirm = _resolveComponent(\"el-popconfirm\");\n  const _component_el_empty = _resolveComponent(\"el-empty\");\n  const _component_el_table = _resolveComponent(\"el-table\");\n  const _component_el_pagination = _resolveComponent(\"el-pagination\");\n  const _component_el_upload = _resolveComponent(\"el-upload\");\n  const _component_el_dialog = _resolveComponent(\"el-dialog\");\n  const _component_container = _resolveComponent(\"container\");\n  return _openBlock(), _createBlock(_component_container, null, {\n    default: _withCtx(() => [_createCommentVNode(\" 商品查询 \"), _createVNode(_component_el_form, {\n      inline: true,\n      model: $data.query,\n      ref: \"query\",\n      class: \"goods_query_form\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_form_item, {\n        prop: \"id\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_input, {\n          modelValue: $data.query.id,\n          \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.query.id = $event),\n          modelModifiers: {\n            number: true\n          },\n          placeholder: \"商品ID\"\n        }, null, 8 /* PROPS */, [\"modelValue\"])]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_el_form_item, {\n        prop: \"title\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_input, {\n          modelValue: $data.query.title,\n          \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.query.title = $event),\n          placeholder: \"商品标题\"\n        }, null, 8 /* PROPS */, [\"modelValue\"])]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_el_form_item, {\n        prop: \"categoryId\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_cascader, {\n          modelValue: $data.query.categoryId,\n          \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.query.categoryId = $event),\n          options: $data.categoryOption,\n          onFocus: $options.getCategoryOption,\n          placeholder: \"请选择\",\n          clearable: \"\"\n        }, null, 8 /* PROPS */, [\"modelValue\", \"options\", \"onFocus\"])]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_el_form_item, {\n        prop: \"status\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_select, {\n          modelValue: $data.query.status,\n          \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.query.status = $event),\n          placeholder: \"商品状态\"\n        }, {\n          default: _withCtx(() => [_createVNode(_component_el_option, {\n            label: \"已上架\",\n            value: \"1\"\n          }), _createVNode(_component_el_option, {\n            label: \"未上架\",\n            value: \"2\"\n          })]),\n          _: 1 /* STABLE */\n        }, 8 /* PROPS */, [\"modelValue\"])]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_el_form_item, null, {\n        default: _withCtx(() => [_createVNode(_component_el_button, {\n          type: \"primary\",\n          icon: $setup.Search,\n          onClick: $options.getGoodsList\n        }, {\n          default: _withCtx(() => [_createTextVNode(\"查询\")]),\n          _: 1 /* STABLE */\n        }, 8 /* PROPS */, [\"icon\", \"onClick\"]), _createVNode(_component_el_button, {\n          type: \"primary\",\n          icon: $setup.Brush,\n          onClick: _cache[4] || (_cache[4] = $event => $options.resetForm('query'))\n        }, null, 8 /* PROPS */, [\"icon\"]), _createVNode(_component_el_button, {\n          type: \"primary\",\n          icon: $setup.Plus,\n          onClick: $options.add\n        }, {\n          default: _withCtx(() => [_createTextVNode(\"商品\")]),\n          _: 1 /* STABLE */\n        }, 8 /* PROPS */, [\"icon\", \"onClick\"])]),\n        _: 1 /* STABLE */\n      })]),\n\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"model\"]), _createCommentVNode(\" 商品列表 \"), _createVNode(_component_el_table, {\n      data: $data.goodsList,\n      height: \"65vh\",\n      style: {\n        \"width\": \"100%\"\n      }\n    }, {\n      empty: _withCtx(() => [_createElementVNode(\"div\", _hoisted_8, [$data.showEmpty ? (_openBlock(), _createBlock(_component_el_empty, {\n        key: 0,\n        description: \"暂时还没有商品哦\"\n      })) : _createCommentVNode(\"v-if\", true)])]),\n      default: _withCtx(() => [_createVNode(_component_el_table_column, {\n        prop: \"name\",\n        label: \"商品名称\",\n        \"min-width\": \"240\"\n      }, {\n        default: _withCtx(scope => [_createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createVNode(_component_el_image, {\n          class: \"goods_image\",\n          src: scope.row.imageUrl\n        }, null, 8 /* PROPS */, [\"src\"])]), _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, _toDisplayString(scope.row.title), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_5, \"ID：\" + _toDisplayString(scope.row.id), 1 /* TEXT */)])])]),\n\n        _: 1 /* STABLE */\n      }), _createVNode(_component_el_table_column, {\n        prop: \"price\",\n        label: \"价格\",\n        sortable: \"\"\n      }), _createVNode(_component_el_table_column, {\n        prop: \"quantity\",\n        label: \"库存\"\n      }), _createVNode(_component_el_table_column, {\n        prop: \"sales\",\n        label: \"销量\",\n        sortable: \"\"\n      }), _createVNode(_component_el_table_column, {\n        prop: \"status\",\n        label: \"状态\"\n      }, {\n        default: _withCtx(scope => [scope.row.status === 1 ? (_openBlock(), _createBlock(_component_el_tag, {\n          key: 0,\n          size: \"small\"\n        }, {\n          default: _withCtx(() => [_createTextVNode(\"出售中\")]),\n          _: 1 /* STABLE */\n        })) : _createCommentVNode(\"v-if\", true), scope.row.status === 2 ? (_openBlock(), _createBlock(_component_el_tag, {\n          key: 1,\n          size: \"small\",\n          type: \"success\"\n        }, {\n          default: _withCtx(() => [_createTextVNode(\"仓库中\")]),\n          _: 1 /* STABLE */\n        })) : _createCommentVNode(\"v-if\", true)]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_el_table_column, {\n        prop: \"created\",\n        label: \"创建时间\",\n        \"min-width\": \"150\",\n        sortable: \"\"\n      }, {\n        default: _withCtx(scope => [_createElementVNode(\"div\", _hoisted_6, [_createVNode(_component_el_icon, null, {\n          default: _withCtx(() => [_createVNode(_component_timer)]),\n          _: 1 /* STABLE */\n        }), _createElementVNode(\"span\", _hoisted_7, _toDisplayString(scope.row.created), 1 /* TEXT */)])]),\n\n        _: 1 /* STABLE */\n      }), _createVNode(_component_el_table_column, {\n        label: \"操作\",\n        \"min-width\": \"130\"\n      }, {\n        default: _withCtx(scope => [_createVNode(_component_el_button, {\n          size: \"small\",\n          icon: $setup.Edit,\n          onClick: $event => $options.edit(scope.$index, scope.row)\n        }, null, 8 /* PROPS */, [\"icon\", \"onClick\"]), scope.row.status === 2 ? (_openBlock(), _createBlock(_component_el_button, {\n          key: 0,\n          size: \"small\",\n          type: \"primary\",\n          onClick: $event => $options.changeStatus(1, scope.row)\n        }, {\n          default: _withCtx(() => [_createTextVNode(\"上架 \")]),\n          _: 2 /* DYNAMIC */\n        }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"onClick\"])) : _createCommentVNode(\"v-if\", true), scope.row.status === 1 ? (_openBlock(), _createBlock(_component_el_button, {\n          key: 1,\n          size: \"small\",\n          type: \"primary\",\n          onClick: $event => $options.changeStatus(2, scope.row)\n        }, {\n          default: _withCtx(() => [_createTextVNode(\"下架 \")]),\n          _: 2 /* DYNAMIC */\n        }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"onClick\"])) : _createCommentVNode(\"v-if\", true), _createVNode(_component_el_popconfirm, {\n          title: \"此操作将永久删除该信息, 是否继续?\",\n          confirmButtonText: \"确认\",\n          cancelButtonText: \"取消\",\n          cancelButtonType: \"default\",\n          icon: $setup.WarningFilled,\n          onConfirm: $event => $options.deleteGoods(scope.row)\n        }, {\n          reference: _withCtx(() => [_createVNode(_component_el_button, {\n            size: \"small\",\n            type: \"danger\",\n            icon: $setup.Delete\n          }, null, 8 /* PROPS */, [\"icon\"])]),\n          _: 2 /* DYNAMIC */\n        }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"icon\", \"onConfirm\"])]),\n        _: 1 /* STABLE */\n      })]),\n\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"data\"]), _createElementVNode(\"div\", _hoisted_9, [_createVNode(_component_el_pagination, {\n      layout: \"total, prev, pager, next\",\n      \"current-page\": $data.pageNum,\n      \"page-size\": $data.pageSize,\n      total: $data.total,\n      onCurrentChange: $options.handleCurrentChange,\n      onPrevClick: $options.handleCurrentChangePrev,\n      onNextClick: $options.handleCurrentChangeNext,\n      background: \"\"\n    }, null, 8 /* PROPS */, [\"current-page\", \"page-size\", \"total\", \"onCurrentChange\", \"onPrevClick\", \"onNextClick\"])]), _createCommentVNode(\" 添加、编辑商品，通用对话框 \"), _createVNode(_component_el_dialog, {\n      title: $data.dialogTitle,\n      modelValue: $data.goodsDialogVisible,\n      \"onUpdate:modelValue\": _cache[13] || (_cache[13] = $event => $data.goodsDialogVisible = $event),\n      \"lock-scroll\": false,\n      top: \"5vh\",\n      width: \"45%\",\n      onClose: $options.cancel\n    }, {\n      footer: _withCtx(() => [_createElementVNode(\"span\", _hoisted_11, [_createVNode(_component_el_button, {\n        onClick: $options.cancel\n      }, {\n        default: _withCtx(() => [_createTextVNode(\"取消\")]),\n        _: 1 /* STABLE */\n      }, 8 /* PROPS */, [\"onClick\"]), _createVNode(_component_el_button, {\n        onClick: _cache[12] || (_cache[12] = $event => $options.resetForm('ruleForm'))\n      }, {\n        default: _withCtx(() => [_createTextVNode(\"重置\")]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_el_button, {\n        type: \"primary\",\n        onClick: $options.confirmGoods\n      }, {\n        default: _withCtx(() => [_createTextVNode(\"确定\")]),\n        _: 1 /* STABLE */\n      }, 8 /* PROPS */, [\"onClick\"])])]),\n      default: _withCtx(() => [_createVNode(_component_el_form, {\n        ref: \"ruleForm\",\n        rules: $data.rules,\n        model: $data.goods,\n        \"label-width\": \"80px\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_form_item, {\n          label: \"类目\",\n          prop: \"categoryId\"\n        }, {\n          default: _withCtx(() => [_createVNode(_component_el_cascader, {\n            modelValue: $data.goods.categoryId,\n            \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => $data.goods.categoryId = $event),\n            options: $data.categoryOption,\n            onChange: $options.changeCategory,\n            \"change-on-select\": \"\",\n            onFocus: $options.getCategoryOption,\n            placeholder: \"请选择\",\n            clearable: \"\"\n          }, null, 8 /* PROPS */, [\"modelValue\", \"options\", \"onChange\", \"onFocus\"])]),\n          _: 1 /* STABLE */\n        }), _createVNode(_component_el_form_item, {\n          label: \"标题\",\n          prop: \"title\"\n        }, {\n          default: _withCtx(() => [_createVNode(_component_el_input, {\n            modelValue: $data.goods.title,\n            \"onUpdate:modelValue\": _cache[6] || (_cache[6] = $event => $data.goods.title = $event),\n            style: {\n              \"width\": \"90%\"\n            },\n            type: \"text\",\n            maxlength: \"30\",\n            \"show-word-limit\": \"\"\n          }, null, 8 /* PROPS */, [\"modelValue\"])]),\n          _: 1 /* STABLE */\n        }), _createVNode(_component_el_form_item, {\n          label: \"名称\",\n          prop: \"name\"\n        }, {\n          default: _withCtx(() => [_createVNode(_component_el_input, {\n            modelValue: $data.goods.name,\n            \"onUpdate:modelValue\": _cache[7] || (_cache[7] = $event => $data.goods.name = $event),\n            style: {\n              \"width\": \"50%\"\n            },\n            type: \"text\",\n            maxlength: \"10\",\n            \"show-word-limit\": \"\"\n          }, null, 8 /* PROPS */, [\"modelValue\"])]),\n          _: 1 /* STABLE */\n        }), _createVNode(_component_el_form_item, {\n          label: \"价格\",\n          prop: \"price\"\n        }, {\n          default: _withCtx(() => [_createVNode(_component_el_input, {\n            modelValue: $data.goods.price,\n            \"onUpdate:modelValue\": _cache[8] || (_cache[8] = $event => $data.goods.price = $event),\n            modelModifiers: {\n              number: true\n            },\n            style: {\n              \"width\": \"50%\"\n            }\n          }, {\n            append: _withCtx(() => [_createTextVNode(\"元\")]),\n            _: 1 /* STABLE */\n          }, 8 /* PROPS */, [\"modelValue\"])]),\n          _: 1 /* STABLE */\n        }), _createVNode(_component_el_form_item, {\n          label: \"数量\",\n          prop: \"quantity\"\n        }, {\n          default: _withCtx(() => [_createVNode(_component_el_input, {\n            modelValue: $data.goods.quantity,\n            \"onUpdate:modelValue\": _cache[9] || (_cache[9] = $event => $data.goods.quantity = $event),\n            modelModifiers: {\n              number: true\n            },\n            style: {\n              \"width\": \"50%\"\n            }\n          }, {\n            append: _withCtx(() => [_createTextVNode(\"件\")]),\n            _: 1 /* STABLE */\n          }, 8 /* PROPS */, [\"modelValue\"])]),\n          _: 1 /* STABLE */\n        }), _createVNode(_component_el_form_item, {\n          label: \"图片\",\n          prop: \"imageUrl\"\n        }, {\n          default: _withCtx(() => [_withDirectives(_createVNode(_component_el_input, {\n            modelValue: $data.goods.imageUrl,\n            \"onUpdate:modelValue\": _cache[10] || (_cache[10] = $event => $data.goods.imageUrl = $event)\n          }, null, 8 /* PROPS */, [\"modelValue\"]), [[_vShow, false]]), _createVNode(_component_el_upload, {\n            action: \"http://localhost:8000/web/upload\",\n            headers: {\n              'token': $data.token\n            },\n            limit: 1,\n            name: \"file\",\n            \"file-list\": $data.pictureList,\n            \"list-type\": \"picture-card\",\n            \"on-preview\": $options.handleImagePreview,\n            \"on-remove\": $options.handleImageRemove,\n            \"on-success\": $options.handleImageSuccess\n          }, {\n            default: _withCtx(() => [_hoisted_10]),\n            _: 1 /* STABLE */\n          }, 8 /* PROPS */, [\"headers\", \"file-list\", \"on-preview\", \"on-remove\", \"on-success\"])]),\n          _: 1 /* STABLE */\n        }), _createVNode(_component_el_form_item, {\n          label: \"备注\"\n        }, {\n          default: _withCtx(() => [_createVNode(_component_el_input, {\n            modelValue: $data.goods.remark,\n            \"onUpdate:modelValue\": _cache[11] || (_cache[11] = $event => $data.goods.remark = $event),\n            style: {\n              \"width\": \"90%\"\n            },\n            type: \"textarea\",\n            maxlength: \"100\",\n            autosize: {\n              minRows: 2\n            },\n            \"show-word-limit\": \"\"\n          }, null, 8 /* PROPS */, [\"modelValue\"])]),\n          _: 1 /* STABLE */\n        })]),\n\n        _: 1 /* STABLE */\n      }, 8 /* PROPS */, [\"rules\", \"model\"])]),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"title\", \"modelValue\", \"onClose\"])]),\n    _: 1 /* STABLE */\n  });\n}","map":{"version":3,"mappings":"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","names":["style","class","_createElementVNode","_createBlock","_component_container","_createCommentVNode","_createVNode","_component_el_form","inline","model","$data","ref","_component_el_form_item","prop","_component_el_input","id","number","placeholder","title","_component_el_cascader","categoryId","options","onFocus","$options","clearable","_component_el_select","status","_component_el_option","label","value","_component_el_button","type","icon","$setup","onClick","_component_el_table","data","height","empty","_hoisted_8","_component_el_empty","description","_component_el_table_column","default","scope","_hoisted_1","_hoisted_2","_component_el_image","src","row","imageUrl","_hoisted_3","_hoisted_4","_hoisted_5","sortable","_component_el_tag","size","_hoisted_6","_component_el_icon","_component_timer","_hoisted_7","created","$index","_component_el_popconfirm","confirmButtonText","cancelButtonText","cancelButtonType","onConfirm","reference","_hoisted_9","_component_el_pagination","layout","total","onCurrentChange","onPrevClick","onNextClick","background","_component_el_dialog","top","width","onClose","footer","_hoisted_11","rules","onChange","maxlength","name","price","append","quantity","_component_el_upload","action","headers","limit","_hoisted_10","remark","autosize","minRows"],"sourceRoot":"","sources":["/Users/work/server/imall/web/src/view/Goods.vue"],"sourcesContent":["<template>\n  <container>\n    <!-- 商品查询 -->\n    <el-form :inline=\"true\" :model=\"query\" ref=\"query\" class=\"goods_query_form\">\n      <el-form-item prop=\"id\">\n        <el-input v-model.number=\"query.id\" placeholder=\"商品ID\"/>\n      </el-form-item>\n      <el-form-item prop=\"title\">\n        <el-input v-model=\"query.title\" placeholder=\"商品标题\"/>\n      </el-form-item>\n      <el-form-item prop=\"categoryId\">\n        <el-cascader v-model=\"query.categoryId\"\n                     :options=\"categoryOption\" @focus=\"getCategoryOption\" placeholder=\"请选择\" clearable/>\n      </el-form-item>\n      <el-form-item prop=\"status\">\n        <el-select v-model=\"query.status\" placeholder=\"商品状态\">\n          <el-option label=\"已上架\" value=\"1\"></el-option>\n          <el-option label=\"未上架\" value=\"2\"></el-option>\n        </el-select>\n      </el-form-item>\n      <el-form-item>\n        <el-button type=\"primary\" :icon=\"Search\" @click=\"getGoodsList\">查询</el-button>\n        <el-button type=\"primary\" :icon=\"Brush\" @click=\"resetForm('query')\"/>\n        <el-button type=\"primary\" :icon=\"Plus\" @click=\"add\">商品</el-button>\n      </el-form-item>\n    </el-form>\n    <!-- 商品列表 -->\n    <el-table :data=\"goodsList\" height=\"65vh\" style=\"width: 100%;\">\n      <el-table-column prop=\"name\" label=\"商品名称\" min-width=\"240\">\n        <template #default=\"scope\">\n          <div style=\"display: inline-flex;\">\n            <div class=\"goods_image_box\">\n              <el-image class=\"goods_image\" :src=\"scope.row.imageUrl\"/>\n            </div>\n            <div style=\"display: block;\">\n              <div class=\"goods_title\">{{ scope.row.title }}</div>\n              <div class=\"goods_id\">ID：{{ scope.row.id }}</div>\n            </div>\n          </div>\n        </template>\n      </el-table-column>\n      <el-table-column prop=\"price\" label=\"价格\" sortable/>\n      <el-table-column prop=\"quantity\" label=\"库存\"/>\n      <el-table-column prop=\"sales\" label=\"销量\" sortable/>\n      <el-table-column prop=\"status\" label=\"状态\">\n        <template #default=\"scope\">\n          <el-tag v-if=\"scope.row.status === 1\" size=\"small\">出售中</el-tag>\n          <el-tag v-if=\"scope.row.status === 2\" size=\"small\" type=\"success\">仓库中</el-tag>\n        </template>\n      </el-table-column>\n      <el-table-column prop=\"created\" label=\"创建时间\" min-width=\"150\" sortable>\n        <template #default=\"scope\">\n          <div style=\"display: flex; align-items: center\">\n            <el-icon>\n              <timer/>\n            </el-icon>\n            <span style=\"margin-left: 10px\">{{ scope.row.created }}</span>\n          </div>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"操作\" min-width=\"130\">\n        <template #default=\"scope\">\n          <el-button size=\"small\" :icon=\"Edit\" @click=\"edit(scope.$index, scope.row)\"/>\n          <el-button v-if=\"scope.row.status === 2\" size=\"small\" type=\"primary\" @click=\"changeStatus(1,scope.row)\">上架\n          </el-button>\n          <el-button v-if=\"scope.row.status === 1\" size=\"small\" type=\"primary\" @click=\"changeStatus(2,scope.row)\">下架\n          </el-button>\n          <el-popconfirm title=\"此操作将永久删除该信息, 是否继续?\"\n                         confirmButtonText=\"确认\"\n                         cancelButtonText=\"取消\"\n                         cancelButtonType=\"default\"\n                         :icon=\"WarningFilled\"\n                         @confirm=\"deleteGoods(scope.row)\">\n            <template #reference>\n             <el-button size=\"small\" type=\"danger\" :icon=\"Delete\"/>\n            </template>\n          </el-popconfirm>\n        </template>\n      </el-table-column>\n      <template #empty>\n        <div style=\"margin: 50px 0;\">\n          <el-empty v-if=\"showEmpty\" description=\"暂时还没有商品哦\" />\n        </div>\n      </template>\n    </el-table>\n    <div style=\"padding: 15px 0;\">\n      <el-pagination layout=\"total, prev, pager, next\"\n                   :current-page=\"pageNum\"\n                   :page-size=\"pageSize\"\n                   :total=\"total\"\n                   @current-change=\"handleCurrentChange\"\n                   @prev-click=\"handleCurrentChangePrev\"\n                   @next-click=\"handleCurrentChangeNext\" background/>\n    </div>\n    <!-- 添加、编辑商品，通用对话框 -->\n    <el-dialog :title=\"dialogTitle\" v-model=\"goodsDialogVisible\" :lock-scroll=\"false\" top=\"5vh\" width=\"45%\" @close=\"cancel\">\n      <el-form ref=\"ruleForm\" :rules=\"rules\" :model=\"goods\" label-width=\"80px\">\n        <el-form-item label=\"类目\" prop=\"categoryId\">\n          <el-cascader v-model=\"goods.categoryId\"\n                       :options=\"categoryOption\"\n                       @change=\"changeCategory\"\n                       change-on-select\n                       @focus=\"getCategoryOption\" placeholder=\"请选择\" clearable/>\n        </el-form-item>\n        <el-form-item label=\"标题\" prop=\"title\">\n          <el-input v-model=\"goods.title\" style=\"width: 90%;\" type=\"text\" maxlength=\"30\" show-word-limit/>\n        </el-form-item>\n        <el-form-item label=\"名称\" prop=\"name\">\n          <el-input v-model=\"goods.name\" style=\"width: 50%;\" type=\"text\" maxlength=\"10\" show-word-limit/>\n        </el-form-item>\n        <el-form-item label=\"价格\" prop=\"price\">\n          <el-input v-model.number=\"goods.price\" style=\"width: 50%;\">\n            <template #append>元</template>\n          </el-input>\n        </el-form-item>\n        <el-form-item label=\"数量\" prop=\"quantity\">\n          <el-input v-model.number=\"goods.quantity\" style=\"width: 50%;\">\n            <template #append>件</template>\n          </el-input>\n        </el-form-item>\n        <el-form-item label=\"图片\" prop=\"imageUrl\">\n          <el-input v-show=\"false\" v-model=\"goods.imageUrl\" />\n          <el-upload\n              action=\"http://localhost:8000/web/upload\"\n              :headers=\"{'token': token}\"\n              :limit=\"1\"\n              name=\"file\"\n              :file-list=\"pictureList\"\n              list-type=\"picture-card\"\n              :on-preview=\"handleImagePreview\"\n              :on-remove=\"handleImageRemove\"\n              :on-success=\"handleImageSuccess\">\n            <div class=\"goods_image_upload_icon\">+</div>\n          </el-upload>\n        </el-form-item>\n        <el-form-item label=\"备注\">\n          <el-input v-model=\"goods.remark\"\n                    style=\"width: 90%;\"\n                    type=\"textarea\"\n                    maxlength=\"100\"\n                    :autosize=\"{ minRows: 2}\" show-word-limit/>\n        </el-form-item>\n      </el-form>\n      <template #footer>\n        <span class=\"dialog-footer\">\n          <el-button @click=\"cancel\">取消</el-button>\n          <el-button @click=\"resetForm('ruleForm')\">重置</el-button>\n          <el-button type=\"primary\" @click=\"confirmGoods\">确定</el-button>\n        </span>\n      </template>\n    </el-dialog>\n  </container>\n</template>\n\n<script>\nimport {ArrowDown, ArrowUp, Brush, Delete, Edit, Plus, Search, Timer, WarningFilled} from \"@element-plus/icons-vue\";\nimport {ElMessage} from 'element-plus'\nimport container from \"../components/container\";\n\nexport default {\n  name: \"Goods\",\n  components: {container, Timer,},\n  setup() {\n    return {Search, Brush, Plus, Edit, ArrowUp, ArrowDown, Delete, WarningFilled}\n  },\n  data() {\n    return {\n\n      // 查询条件\n      query: {\n        id: '',\n        title: '',\n        categoryId: '',\n        status: ''\n      },\n\n      // 类目选项\n      categoryOption: [],\n\n      // 商品\n      goodsList: [],\n      goods: {\n        id: '',\n        categoryId: '',\n        title: '',\n        name: '',\n        price: '',\n        quantity: '',\n        imageUrl: '',\n        remark: '',\n        status: ''\n      },\n\n      rules: {\n        categoryId: { required: true, message: '请选择一个类目', trigger: 'blur' },\n        title: { required: true, message: '请输入一个标题', trigger: 'blur' },\n        name: { required: true, message: '请输入一个名称', trigger: 'blur' },\n        price: [ {required: true, message: '价格不能为空', trigger: 'blur' },{type: 'number',message: '价格必须为数字', trigger: 'blur'}],\n        quantity: [ {required: true, message: '价格不能为空', trigger: 'blur' },{type: 'number',message: '价格必须为数字', trigger: 'blur'}],\n        imageUrl: { required: true, message: '至少上传一张图片', trigger: 'blur' },\n      },\n\n      // 图片列表\n      pictureList: [],\n\n      // 分页\n      total: 0,\n      pageNum: 1,\n      pageSize: 10,\n\n      // 请求认证\n      token: '',\n\n      // 操作状态\n      dialogTitle: '',\n      operateType: '',\n      goodsDialogVisible: false,\n\n      // 空状态\n      showEmpty: false\n    }\n  },\n  mounted() {\n    this.getGoodsList()\n    this.token = localStorage.getItem('token')\n    this.goodsDialogVisible = this.$route.params.dialog\n  },\n  methods: {\n\n    // 分页，处理函数\n    handleCurrentChangePrev(val) {\n      this.pageNum = val;\n      console.log(`上一页: ${val}`);\n    },\n    handleCurrentChange(val) {\n      this.pageNum = val;\n      this.getGoodsList();\n      console.log(`当前页: ${val}`);\n    },\n    handleCurrentChangeNext(val) {\n      this.pageNum = val;\n      console.log(`下一页: ${val}`);\n    },\n\n    // 图片上传，处理函数\n    handleImagePreview(file) {\n      this.goods.imageUrl = file.url\n    },\n    handleImageRemove(file, fileList) {\n      this.goods.imageUrl = ''\n      console.log(file, fileList)\n    },\n    handleImageSuccess(response) {\n      this.goods.imageUrl = response.data\n    },\n\n    // 添加、编辑商品\n    add() {\n      this.empty()\n      this.dialogTitle = '添加商品'\n      this.operateType = 'add'\n      this.goodsDialogVisible = true\n    },\n    edit(index, row) {\n      this.dialogTitle = '编辑商品'\n      this.operateType = 'edit'\n      this.goods.id = row.id\n      this.goods.categoryId = row.categoryId\n      this.goods.title = row.title\n      this.goods.name = row.name\n      this.goods.price = row.price\n      this.goods.quantity = row.quantity\n      this.goods.imageUrl = row.imageUrl\n      this.pictureList.push({url: row.imageUrl})\n      this.goods.remark = row.remark\n      this.goods.status = row.status\n      this.goodsDialogVisible = true\n    },\n\n    changeCategory(value) {\n      this.goods.categoryId = value[1]\n    },\n\n    // 获取商品类目选项\n    getCategoryOption() {\n      this.$axios.get('/category/option').then((response) => {\n        this.categoryOption = response.data.data;\n      }).catch((error) => {\n        console.log(error)\n      })\n    },\n\n    // 获取商品列表\n    getGoodsList() {\n      this.$axios.get('/goods/list', {\n        params: {\n          id: this.query.id,\n          title: this.query.title,\n          categoryId: this.query.categoryId[1],\n          status: this.query.status,\n          pageNum: this.pageNum,\n          pageSize: this.pageSize,\n          sid: parseInt(localStorage.getItem('sid'))\n        }\n      }).then((response) => {\n        this.total = response.data.data.total;\n        this.goodsList = response.data.data.list;\n        if (this.goodsList.length === 0) {\n          this.showEmpty = true\n        }\n      }).catch((error) => {\n        console.log(error)\n      })\n    },\n\n    // 商品上架、下架\n    changeStatus(status, row) {\n      this.$axios.put('/goods/status/update', {\n        id: row.id,\n        status: parseInt(status)\n      }).then((response) => {\n        if (response.data.code === 200) {\n          ElMessage({message: response.data.message, type: 'success'})\n        }\n        this.getGoodsList()\n      }).catch((error) => {\n        console.log(error)\n      })\n      this.getGoodsList()\n    },\n\n    // 确认添加或编辑商品\n    confirmGoods() {\n      this.$refs['ruleForm'].validate((valid) => {\n        if (valid) {\n          if (this.operateType === 'add') {\n            // 添加商品\n            this.$axios.post('/goods/create', {\n              categoryId: parseInt(this.goods.categoryId),\n              title: this.goods.title,\n              name: this.goods.name,\n              price: parseInt(this.goods.price),\n              quantity: parseInt(this.goods.quantity),\n              imageUrl: this.goods.imageUrl,\n              remark: this.goods.remark,\n              sid: parseInt(localStorage.getItem('sid'))\n            }).then((response) => {\n              if (response.data.code === 200) {\n                ElMessage({message: response.data.message, type: 'success'})\n              }\n              this.getGoodsList()\n            }).catch((error) => {\n              console.log(error)\n            })\n          }\n          if (this.operateType === 'edit') {\n            // 编辑商品\n            this.$axios.put('/goods/update', this.goods).then((response) => {\n              if (response.data.code === 200) {\n                ElMessage({message: response.data.message, type: 'success'})\n              }\n              this.getGoodsList()\n            }).catch((error) => {\n              console.log(error)\n            })\n          }\n          this.goodsDialogVisible = false\n        } else {\n          console.log('error submit!!')\n          return false\n        }\n      })\n    },\n\n    // 删除商品\n    deleteGoods(row) {\n      this.$axios.delete('/goods/delete', {\n          params: {\n            id: row.id\n          }\n        }).then((response) => {\n          if (response.data.code === 200) {\n            ElMessage({message: response.data.message, type: 'success'})\n          }\n          this.getGoodsList()\n        }).catch((error) => {\n          console.log(error)\n      })\n    },\n\n    // 重置表单\n    resetForm(formName) {\n      this.$refs[formName].resetFields()\n      switch (formName) {\n        case 'query': this.getGoodsList(); break;\n        case 'ruleForm': this.empty(); break;\n        default: console.log('invalid resetForm');\n      }\n    },\n\n    // 取消\n    cancel() {\n      this.$refs['ruleForm'].resetFields()\n      this.empty()\n      this.goodsDialogVisible = false\n    },\n\n    // 清空数据\n    empty() {\n      this.goods.id = ''\n      this.goods.categoryId = ''\n      this.goods.title = ''\n      this.goods.name = ''\n      this.goods.price = ''\n      this.goods.quantity = ''\n      this.goods.picture = ''\n      this.goods.remark = ''\n      this.goods.status = ''\n      this.operateType = ''\n      this.pictureList = []\n    }\n  }\n}\n</script>\n<style>\n.goods_query_form {\n  margin: 6px 0;\n  display: inline-flex;\n}\n\n.goods_image_box {\n  margin: 4px 5px 5px 0;\n}\n\n.goods_image_box, .goods_image {\n  width: 62px;\n  height: 62px;\n  border-radius: 5px;\n}\n\n.goods_title {\n  font-size: 13px;\n  font-weight: 450;\n  margin: 2px 3px 1px;\n}\n\n.goods_id {\n  margin: 0 3px;\n  font-size: 12px;\n  font-weight: 450;\n}\n\n.goods_image_upload_icon {\n  color: #9aa9b9;\n  font-size: 24px;\n  font-weight: 200;\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n}\n.el-dialog {\n    border-radius: 10px !important;\n}\n\n.el-upload{\n  width: 100px;\n  height: 100px;\n  line-height: 100px;\n  font-size: 16px;\n}\n\n.el-upload--picture-card {\n  background-color: #F2F4F7;\n  border: none;\n}\n\n.el-upload--picture-card{\n  width: 100px;\n  height: 100px;\n  margin-top: 0;\n  font-size: 16px !important;\n}\n\n.el-upload-list--picture-card .el-upload-list__item{\n  width: 100px;\n  height: 100px;\n  line-height: 100px;\n  font-size: 16px;\n}\n\n.el-upload-list--picture-card .el-upload-list__item-thumbnail{\n  width: 100px;\n  height: 100px;\n  line-height: 100px;\n  font-size: 16px;\n}\n\n.el-table__header tr, .el-table__header th {\n  background-color: #eff6ff !important;\n  font-weight: 450 !important;\n  color: #627a94 !important;\n  border-bottom: none !important;\n}\n</style>"]},"metadata":{},"sourceType":"module"}